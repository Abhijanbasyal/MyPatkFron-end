<div class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Manage Characters</h2>
  
    <!-- Success & Error Messages -->
    <div *ngIf="successMessage" class="bg-green-100 text-green-800 p-2 rounded mb-2">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="bg-red-100 text-red-800 p-2 rounded mb-2">{{ errorMessage }}</div>
  
    <!-- Add Character -->
    <div class="mb-4">
      <input
        [(ngModel)]="newCharacter.name"
        placeholder="Enter character name"
        class="border p-2 rounded w-1/4"
      />
      <input
        [(ngModel)]="newCharacter.role"
        placeholder="Enter character role"
        class="border p-2 rounded w-1/4 ml-2"
      />
      <input
        [(ngModel)]="newCharacter.description"
        placeholder="Enter description"
        class="border p-2 rounded w-1/4 ml-2"
      />
      <button
        (click)="addCharacter()"
        class="bg-blue-500 text-white p-2 rounded ml-2"
      >
        Add Character
      </button>
    </div>
  
    <!-- Character List -->
    <table class="border-collapse border border-gray-300 w-full">
      <thead>
        <tr>
          <th class="border p-2">Name</th>
          <th class="border p-2">Role</th>
          <th class="border p-2">Description</th>
          <th class="border p-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let character of characters">
          <td class="border p-2">
            <span *ngIf="editCharacterId !== character._id">{{ character.name }}</span>
            <input
              *ngIf="editCharacterId === character._id"
              [(ngModel)]="editCharacter.name"
              class="border p-1 rounded w-full"
            />
          </td>
          <td class="border p-2">
            <span *ngIf="editCharacterId !== character._id">{{ character.role }}</span>
            <input
              *ngIf="editCharacterId === character._id"
              [(ngModel)]="editCharacter.role"
              class="border p-1 rounded w-full"
            />
          </td>
          <td class="border p-2">
            <span *ngIf="editCharacterId !== character._id">{{ character.description }}</span>
            <input
              *ngIf="editCharacterId === character._id"
              [(ngModel)]="editCharacter.description"
              class="border p-1 rounded w-full"
            />
          </td>
          <td class="border p-2">
            <button
              *ngIf="editCharacterId !== character._id"
              (click)="editCharacterDetails(character)"
              class="bg-yellow-500 text-white p-1 rounded"
            >
              Edit
            </button>
            <button
              *ngIf="editCharacterId === character._id"
              (click)="saveCharacter()"
              class="bg-green-500 text-white p-1 rounded"
            >
              Save
            </button>
            <button
              (click)="deleteCharacter(character._id)"
              class="bg-red-500 text-white p-1 rounded ml-2"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  